<div class="container">
    <div class="row mb-2 mt-2 text-center">
      <div class="col-md-4">
      </div>
      <div class="col-md-4">
        <h5>FoodDelivery</h5>
      </div>
      <div class="col-md-4">
      </div>
    </div>
  
    <!-- main content -->
    <div class="tab-content mt-3" id="myTabContent">
      <!-- restaurant table -->
        <div class="tab-pane fade show active" id="restaurants">
            <!-- restaurants -->
            <div  class="mb-3 float-right">
                <div class="btn-group mr-2">
                    <form class="form-inline my-2 my-lg-0 justify-content-center">
                        <input name="searchTerm" #searchInput="ngModel" class="form-control mr-sm-2" ngModel
                        (ngModelChange)="searchRestaurants(searchInput.value)" type="search" placeholder="Meniu Category...">
                    </form>
                    <button [hidden]="!isAdmin" type="button" class="btn btn-info" data-toggle="modal" data-target="#idunicyes">
                        <i class="fa fa-plus"></i>New Restaurant
                    </button>
                    <button (click)="onLogOut()" type="button" class="btn btn-info" class="btn btn-block btn-secondary">
                        <span>Logout</span>
                        <i class="fas fa-sign-in-alt ml-1"></i>
                      </button>
                </div>
                <div class="btn-group">
                    <button type="button" (click)="getRestaurants(true)" class="btn btn-info">
                        <i *ngIf="refreshing" class="fas fa-sync fa-spin"></i><i *ngIf="!refreshing" class="fas fa-sync"></i>
                    </button>
                </div>
            </div>
            <table [hidden]="!isAdmin" class="table table-hover">
                <thead class="table-borderless">
                    <tr class="text-center">
                        <th>Id</th>
                        <th>Name</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center">
                        <td (click)="onSelectRestaurant(restaur)">{{restaur?.id}}</td>
                        <td (click)="onSelectRestaurant(restaur)">{{restaur?.name}}</td>
                        <td (click)="onSelectRestaurant(restaur)">{{restaur?.location}}</td>
                    </tr>
                </tbody>
            </table>

            <table [hidden]="isAdmin" class="table table-hover">
                <thead class="table-borderless">
                    <tr class="text-center">
                        <th>Id</th>
                        <th>Name</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody *ngFor="let restaurant of restaurantsCustomer">
                    <tr class="text-center">
                        <td (click)="onSelectRestaurant(restaurant)">{{restaurant?.id}}</td>
                        <td (click)="onSelectRestaurant(restaurant)">{{restaurant?.name}}</td>
                        <td (click)="onSelectRestaurant(restaurant)">{{restaurant?.location}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- model add restaurant -->
        <div [hidden]="!isAdmin" class="modal draggable fade bd-example-modal-lg" id="idunicyes" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title text-center">New Restaurant</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div>
                            <form #newRestaurantForm="ngForm" (ngSubmit)="onAddNewRestaurant(newRestaurantForm)">
                                <div class="form-group">
                                    <label for="name">Name</label>
                                    <input type="text" name="name" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="location">Location</label>
                                    <input type="text" name="location" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="deliveryZone1Name">Delivery Zone Name</label>
                                    <input type="text" name="deliveryZone1Name" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="deliveryZone1Location">Delivery Zone Location</label>
                                    <input type="text" name="deliveryZone1Location" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="deliveryZone2Name">Delivery Zone Name</label>
                                    <input type="text" name="deliveryZone2Name" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="deliveryZone2Location">Delivery Zone Location</label>
                                    <input type="text" name="deliveryZone2Location" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="deliveryZone3Name">Delivery Zone Name</label>
                                    <input type="text" name="deliveryZone3Name" required ngModel class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="deliveryZone3Location">Delivery Zone Location</label>
                                    <input type="text" name="deliveryZone3Location" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu1Name">Menu Name</label>
                                    <input type="text" name="menu1Name" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu1Description">Menu Description</label>
                                    <input type="text" name="menu1Description" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu1Price">Menu Price</label>
                                    <input type="text" name="menu1Price" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu1Category">Menu Category</label>
                                    <input type="text" name="menu1Category" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu2Name">Menu Name</label>
                                    <input type="text" name="menu2Name" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu2Description">Menu Description</label>
                                    <input type="text" name="menu2Description" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu2Price">Menu Price</label>
                                    <input type="text" name="menu2Price" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu2Category">Menu Category</label>
                                    <input type="text" name="menu2Category" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu3Name">Menu Name</label>
                                    <input type="text" name="menu3Name" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu3Description">Menu Description</label>
                                    <input type="text" name="menu3Description" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu3Price">Menu Price</label>
                                    <input type="text" name="menu3Price" required ngModel class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="menu3Category">Menu Category</label>
                                    <input type="text" name="menu3Category" required ngModel class="form-control">
                                </div>

                                
                                <button type="submit" style="display: none;" id="new-restaurant-save"></button>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="new-restaurant-close">Close</button>
                        <button type="button" (click)="saveNewRestaurant()" [disabled]="newRestaurantForm.invalid" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button [hidden]="true" type="button" id="openRestaurantInfo" data-toggle="modal" data-target="#viewRestaurantModal">
    </button>

    <!-- modal Restaurant info -->
    <div class="modal fade bd-example-modal-lg" id="viewRestaurantModal" tabindex="-1" role="dialog" aria-labelledby=""
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-center" id="exampleModalLongTitle">{{selectedRestaurant?.name}}
              {{selectedRestaurant?.location}}
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div>
                <table  class="table table-hover">
                    <thead class="table-borderless">
                        <tr class="text-center">
                            <th>Id</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Price</th>
                            <th>Category</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let menu of meniuri">
                        <tr class="text-center">
                            <td>{{menu?.id}}</td>
                            <td>{{menu?.name}}</td>
                            <td>{{menu?.description}}</td>
                            <td>{{menu?.price}}</td>
                            <td>{{menu?.category?.name}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

</div>